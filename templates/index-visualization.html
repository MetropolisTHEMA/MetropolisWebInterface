{% load static %}
{% block content %}
<script src="https://d3js.org/d3.v7.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="{% static '/css/legend.css' %}">

<!---folium output --->
<style>
  html,
  body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
<script src='https://cdn.plot.ly/plotly-2.1.0.min.js'></script> <!-- Load plotly.js into the DOM -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!---end folium output --->

<style type="text/css">
  #map {
    position: relative;
    width: 100.0%;
    height: 100.0%;
    left: 0.0%;
    top: 0.0%;
  }
</style>

<!--- time player css --->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.5.1/dist/leaflet.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.min.css" />
<!--- time player --->

<div class="row-100">
  <div class="col-md-2 h-100" id="destinationDiv">
    <div id="divToMove">
      <h5><a href="{% url 'network_details' roadnetwork.pk %}">Go Back</a></h5>
      <hr>
      <div class="form-group w-75 mx-auto">
        <label for="zoneSelector" class="sr-only">Zones</label>
        <select id="zoneSelector" class="form-control">
          <option value="none">Zones</option>
          <option value="departures">Departures</option>
          <option value="arrivals">Arrivals</option>
          <option value="averages">Average</option>
        </select>
      </div>

      <div class="form-group w-75 mx-auto">
        <label for="linkSelector" class="sr-only">Links</label>
        <select id="linkSelector" class="form-control" onchange="linkDropDown();">
          <optgroup label="Input">
            <option value="default">Road type</option>
            <option value="lanes">Lanes</option>
            <option value="length">Length</option>
            <option value="speed">Speed</option>
          </optgroup>

          <optgroup label="Ouput">
            <option value="congestion">Congestion</option>
            <option value="speed_output">Speed</option>
            <option value="travel_time">Travel Time</option>
          </optgroup>
        </select>
      </div>
      <hr>
      <div class="form-group w-75 mx-auto">
        <div id="linkLabel" style="height:30px;display:none">
          <label for="legend-links-svg">Legend</label>
        </div>
        <div id="legend-links-container">
          <svg id="legend-links-svg" class="h-100 w-100"></svg>
        </div>
      </div>
    </div>

  </div>

  <div class="col-md-10">
    <div class="" id="map"></div>
  </div>
</div>

/* The follow code is for getting a network type. ie abstract or real*/
{{ roadnetwork.simple|json_script:'networktype' }}
<script>
const network_type = JSON.parse(document.getElementById('networktype').textContent);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

<!-- leafet geojson-vt -->
<script src="https://unpkg.com/geojson-vt@3.2.0/geojson-vt.js"></script>
<script src="{% static '/js/leaflet-geojson-vt.js' %}"></script>

<!--- time player js --->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
<!--- time player js --->

<script src="{% static '/js/fetchapi.js' %}"></script>
<script src="{% static '/js/map.js' %}"></script>
<script src="{% static '/js/linklegend.js' %}"></script>
<script src="{% static '/js/dropdown.js' %}"></script>

{% endblock %}
